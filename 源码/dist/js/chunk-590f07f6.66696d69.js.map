{"version":3,"sources":["webpack:///./src/components/usercenter/login.vue?48ab","webpack:///src/components/usercenter/login.vue","webpack:///./src/components/usercenter/login.vue?f5db","webpack:///./src/components/usercenter/login.vue","webpack:///./src/components/usercenter/login.vue?0ef2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","back","_m","directives","name","rawName","value","expression","domProps","$event","target","composing","username","password","login","_v","toRegister","staticRenderFns","data","haveLogin","methods","$router","push","$axios","get","params","console","log","res","mounted","$store","state","tabbarShow","beforeDestroy","beforeRouteLeave","to","path","active","next","component"],"mappings":"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","file":"js/chunk-590f07f6.66696d69.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg animated fadeInUp\"},[_c('header',{staticClass:\"loginHeader\"},[_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{attrs:{\"span\":\"3\"},on:{\"click\":_vm.back}},[_c('van-icon',{attrs:{\"name\":\"cross\"}})],1),_c('van-col',{attrs:{\"span\":\"12\"}}),_c('van-col',{attrs:{\"span\":\"3\"}})],1)],1),_vm._m(0),_c('div',{staticClass:\"toLogin\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"typePhoneNum\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\",\"name\":\"username\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"typepassword\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入密码\",\"name\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('van-icon',{attrs:{\"name\":\"closed-eye\"}})],1),_c('div',{staticClass:\"loginBtn\"},[_c('van-button',{attrs:{\"round\":\"\",\"type\":\"info\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)])]),_c('div',{staticClass:\"moreFunc\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"register\",on:{\"click\":_vm.toRegister}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"新用户注册\")])]),_vm._m(1)])]),_vm._m(2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginText\"},[_c('p',[_vm._v(\"登录\")]),_c('p',[_vm._v(\"商城账号\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forgetPassword\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"忘记密码\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"servicePhone\"},[_c('p',[_vm._v(\"如登录遇到异常，请联系客服电话 400-920-9299\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bg animated fadeInUp\">\r\n    <header class=\"loginHeader\">\r\n      <van-row type=\"flex\" justify=\"space-between\">\r\n        <van-col span=\"3\" @click=\"back\">\r\n          <van-icon name=\"cross\" />\r\n        </van-col>\r\n        <van-col span=\"12\"></van-col>\r\n        <van-col span=\"3\"></van-col>\r\n      </van-row>\r\n    </header>\r\n    <div class=\"loginText\">\r\n      <p>登录</p>\r\n      <p>商城账号</p>\r\n    </div>\r\n    <div class=\"toLogin\">\r\n      <div class=\"container\">\r\n        <div class=\"typePhoneNum\">\r\n          <input type=\"text\" placeholder=\"请输入用户名\" v-model=\"username\" name=\"username\"/>\r\n        </div>\r\n        <div class=\"typepassword\">\r\n          <input type=\"text\" placeholder=\"请输入密码\" v-model=\"password\" name=\"password\"/>\r\n          <van-icon name=\"closed-eye\" />\r\n        </div>\r\n        <div class=\"loginBtn\">\r\n          <van-button @click=\"login\" round type=\"info\">登录</van-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"moreFunc\">\r\n      <div class=\"container\">\r\n        <div class=\"register\" @click=\"toRegister\">\r\n          <a href=\"#\">新用户注册</a>\r\n        </div>\r\n        <div class=\"forgetPassword\">\r\n          <a href=\"#\">忘记密码</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"servicePhone\">\r\n      <p>如登录遇到异常，请联系客服电话 400-920-9299</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"vant\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      haveLogin: null\r\n    };\r\n  },\r\n  methods: {\r\n    back() {\r\n      // window.history.back();\r\n      this.$router.push('/home');\r\n    },\r\n    toRegister() {\r\n      this.$router.push(\"/register\");\r\n    },\r\n    //用户登录，并跳到首页\r\n    login() {\r\n      // let existedUserName = localStorage.getItem(\"username\");\r\n      // let existedPassWord = localStorage.getItem(\"password\");\r\n      // if (this.userName == \"\") {\r\n      //   Toast(\"请输入用户名！\");\r\n      // } else if (this.assword == \"\") {\r\n      //   Toast(\"请输入用户密码！\");\r\n      //   return;\r\n      // }\r\n      // if (\r\n      //   existedUserName == this.username &&\r\n      //   existedPassWord == this.password\r\n      // ) {\r\n      //   Toast(\"登录成功！\");\r\n      //   localStorage.setItem(\"haveLogin\", true);\r\n      //   this.$router.push(\"/home\");\r\n      // }\r\n      //  else if (existedUserName != this.username) {\r\n        // Toast(\"用户名错误！\");\r\n      // } else if (\r\n        // existedUserName == this.username &&\r\n        // existedPassWord != this.password\r\n      // ) {\r\n        // Toast(\"密码错误！\");\r\n      // }\r\n      this.$axios.get(\"http://127.0.0.1:3000/login\",{\r\n        params:{\r\n          username: this.username,\r\n          password: this.password,\r\n        }\r\n      }).then(res=>{\r\n        console.log(res.data);\r\n        if(res.data == '201'){\r\n          Toast('登录失败，请重新登录');\r\n        }\r\n        if(res.data.code == \"200\"){\r\n          this.$store.commit('setUsername',res.data.result.username);\r\n          Toast(\"登录成功\");\r\n          this.$router.push('/home');\r\n        }\r\n        // console.log(\"登录成功\");\r\n        // Toast(\"登录成功！\");\r\n        // this.$router.push(\"/home\");\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.state.tabbarShow = false;\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.state.tabbarShow = true;\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    switch (to.path) {\r\n      case \"/home\":\r\n        this.$store.state.active = 0;\r\n        break;\r\n      case \"/shop\":\r\n        this.$store.state.active = 1;\r\n        break;\r\n      case \"/usercenter\":\r\n        this.$store.state.active = 3;\r\n        break;\r\n    }\r\n    next();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$containerWidth: 82%;\r\n.bg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.loginHeader {\r\n  height: 48px;\r\n  background-color: #fff;\r\n  box-shadow: 1px 0 10px #ccc;\r\n  .van-col {\r\n    height: 48px;\r\n    margin-left: 10px;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    &:nth-child(1) {\r\n      font-size: 22px;\r\n      line-height: 54px;\r\n      font-weight: bold;\r\n      color: rgba(127, 0, 25, 1);\r\n    }\r\n  }\r\n}\r\n.loginText {\r\n  width: 75%;\r\n  margin: 40px auto 20px;\r\n  p {\r\n    padding: 5px 0;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n.toLogin {\r\n  .container {\r\n    width: $containerWidth;\r\n    margin: 0 auto;\r\n    .typePhoneNum {\r\n      width: 100%;\r\n      height: 44px;\r\n      background-color: #f2f2f2;\r\n      border-radius: 26px;\r\n      input {\r\n        height: 20px;\r\n        margin-left: 26px;\r\n        margin-top: 12px;\r\n        background-color: #f2f2f2;\r\n      }\r\n    }\r\n    .typepassword {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 44px;\r\n      margin-top: 18px;\r\n      background-color: #f2f2f2;\r\n      border-radius: 26px;\r\n      input {\r\n        height: 20px;\r\n        margin-left: 26px;\r\n        margin-top: 12px;\r\n        background-color: #f2f2f2;\r\n      }\r\n      .van-icon {\r\n        position: absolute;\r\n        top: 3px;\r\n        right: 20px;\r\n        padding-top: 10px;\r\n        color: #adadad;\r\n        font-size: 20px;\r\n      }\r\n    }\r\n    .loginBtn {\r\n      width: 100%;\r\n      height: 44px;\r\n      margin-top: 18px;\r\n      .van-button {\r\n        width: 100%;\r\n        height: 44px;\r\n        background-color: #7f001a;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n.moreFunc {\r\n  margin-top: 18px;\r\n  &::after {\r\n    content: \"\";\r\n    display: block;\r\n    clear: both;\r\n  }\r\n  .container {\r\n    width: 74%;\r\n    margin: 0 auto;\r\n    .register {\r\n      float: left;\r\n      a {\r\n        color: #78befb;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n    .forgetPassword {\r\n      float: right;\r\n      a {\r\n        color: #78befb;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.servicePhone {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  width: 70%;\r\n  margin-left: -112px;\r\n  p {\r\n    text-align: center;\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    color: #78befb;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--16-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--16-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=04f7fef4&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=04f7fef4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04f7fef4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=04f7fef4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=04f7fef4&lang=scss&scoped=true&\""],"sourceRoot":""}